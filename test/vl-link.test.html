<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <script src="../../@webcomponents/webcomponentsjs/webcomponents-lite.js"></script>
    <script src="../../web-component-tester/browser.js"></script>

    <script type="module" src="../vl-link.src.js"></script>
</head>

<body>
    <test-fixture id="vl-link-fixture">
        <template>
            <a is="vl-link"></a>
        </template>
    </test-fixture>

    <test-fixture id="vl-link-fixture-icon">
        <template>
            <a is="vl-link">
                <span is="vl-icon"></span>
            </a>
        </template>
    </test-fixture>

    <script type="module">
        import { VlRegisterElement } from '/node_modules/vl-ui-core/vl-core.js';

        suite('<vl-link>', () => {
            const should = chai.should();

            suiteSetup((done) => {
                VlRegisterElement(() => {
                    done();
                });
            });

            test('heeft de vl-link class', () => {
                const link = fixture('vl-link-fixture');
                assert.isTrue(link.classList.contains('vl-link'));
            });

            test('krijgt de juiste class wanneer de link een attribuut bevat', () => {
                const link = fixture('vl-link-fixture');
                ['block'].forEach((attribuut) => {
                    assert.isFalse(link.classList.contains('vl-link--' + attribuut));
                    link.setAttribute(attribuut, '');
                    assert.isTrue(link.classList.contains('vl-link--' + attribuut));
                    link.removeAttribute(attribuut);
                    assert.isFalse(link.classList.contains('vl-link--' + attribuut));
                });
            });

            test('zet het link attribuut op icon elementen indien deze aanwezig zijn in het slot', () => {
                const link = fixture('vl-link-fixture-icon');
                const icon = link.querySelector('span[is="vl-icon"');
                assert.isDefined(icon.getAttribute('link'));
            });
        });
    </script>
</body>

</html>